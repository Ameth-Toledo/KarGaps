<div class="card-gorras group bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 cursor-pointer">
  
  <div class="relative bg-gray-50 overflow-hidden h-64 flex items-center justify-center p-6">
    <img 
      [src]="imagen" 
      [alt]="nombre" 
      class="w-full h-full object-contain group-hover:scale-110 transition-transform duration-500"
    >
    
    <div *ngIf="stock < 5 && stock > 0" class="absolute top-3 right-3 bg-orange-500 text-white text-xs font-bold px-3 py-1 rounded-full">
      ¡Últimas {{ stock }}!
    </div>
    
    <div *ngIf="stock === 0" class="absolute top-3 right-3 bg-red-500 text-white text-xs font-bold px-3 py-1 rounded-full">
      Agotado
    </div>
  </div>
  
  <div class="p-4">
    <h3 class="text-lg font-semibold text-gray-800 mb-2 line-clamp-2 min-h-[3.5rem]">
      {{ nombre }}
    </h3>
    
    <div class="flex items-center gap-2 mb-3">
      <span class="text-sm text-gray-500">Color:</span>
      <div class="flex items-center gap-2">
        <div 
          class="w-5 h-5 rounded-full border-2 border-gray-300" 
          [style.background-color]="colorHex"
        ></div>
        <span class="text-sm text-gray-600 capitalize">{{ color }}</span>
      </div>
    </div>
    
    <div class="flex items-center justify-between">
      <div class="flex flex-col">
        <span class="text-2xl font-bold text-pink-600">
          ${{ precio.toFixed(2) }}
        </span>
        <span class="text-xs text-gray-400">MXN</span>
      </div>
      
      <button 
        [disabled]="stock === 0"
        [class.opacity-50]="stock === 0"
        [class.cursor-not-allowed]="stock === 0"
        class="w-12 h-12 bg-pink-500 hover:bg-pink-600 text-white rounded-full flex items-center justify-center transition-all duration-300 transform hover:scale-110 disabled:hover:scale-100 disabled:hover:bg-pink-500 shadow-lg"
        (click)="agregarAlCarrito()"
        [title]="stock === 0 ? 'Agotado' : 'Agregar al carrito'"
      >
        <i class='bx bx-cart text-2xl'></i>
      </button>
    </div>
  </div>
</div>